{% extends "./base.html" %}
{% load static %}

{% block title %}Edición de Videojuego{% endblock %}

{% block css %}
<style>
    .container {
        background: url('{% static "img/videojuego.jpg" %}') no-repeat center center !important;
        background-size: cover !important;
        border-radius: 10px;
        padding: 20px;
        position: relative;
    }

    .container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(255, 206, 12, 0.9) !important;
        border-radius: 10px;
        z-index: 0;
    }

    .container > * {
        position: relative;
        z-index: 1;
    }
</style>
{% endblock %}

{% block body %}
<div class="row">
    <div class="col-md-4 offset-md-4">
        <h2>Edición de Videojuego</h2>
        <div class="card">
            <div class="card-body">
                <form action="/editarVideojuego/" method="POST">{% csrf_token %}
                    <div class="form-group">
                        <input type="text" id="txtNombre" name="txtNombre" 
                               value="{{ videojuego.nombre }}" class="form-control" 
                               placeholder="Nombre" required>
                    </div>
                    <div class="form-group">
                        <input type="number" id="numPrecio" name="numPrecio" 
                               value="{{ videojuego.precio|stringformat:'g' }}" class="form-control" 
                               placeholder="Precio en CLP" required>
                    </div>
                    <div class="form-group">
                        <select id="txtConsola" name="txtConsola" class="form-control" required>
                            <option value="" disabled>Seleccione una consola</option>
                            {% for marca, consolas in consolas.items %}
                                <optgroup label="{{ marca }}">
                                    {% for consola in consolas %}
                                        <option value="{{ consola }}" {% if videojuego.consola == consola %}selected{% endif %}>
                                            {{ consola }}
                                        </option>
                                    {% endfor %}
                                </optgroup>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <input type="number" id="numCantidad" name="numCantidad" 
                               value="{{ videojuego.cantidad }}" class="form-control" 
                               placeholder="Cantidad" required>
                    </div>
                    <div class="form-group">
                        <select id="selDisponibilidad" name="selDisponibilidad" class="form-select" required>
                            <option value="ambos" {% if videojuego.disponibilidad == 'ambos' %}selected{% endif %}>Tienda y Envío</option>
                            <option value="sin_stock" {% if videojuego.disponibilidad == 'sin_stock' %}selected{% endif %}>Sin Stock</option>
                            <option value="tienda" {% if videojuego.disponibilidad == 'tienda' %}selected{% endif %}>Disponible en tienda</option>
                            <option value="envio" {% if videojuego.disponibilidad == 'envio' %}selected{% endif %}>Solo envío</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input type="hidden" name="numID" value="{{ videojuego.id }}">
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-success">Guardar</button>
                            <a href="/videojuegos" class="btn btn-danger">Cancelar</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block boton_volver %}{% endblock %} 